@{
    ViewData["Title"] = "Home Page";
}

@model Email;

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <style>

        body {
            background-color: #ede7f6;
        }

        .box1 {
            width: 100%;
            height: 230px;
            /*margin:0px;
            padding:0px;*/
        }

        .box1 {
            background-color: white;
            border-radius: 25px;
        }


        p {
            width: 100%;
            font-family: sans-serif;
            font-size: 18px;
            text-align: left;
            padding-left: 3%;
            margin: 10px;
        }

        input.largerCheckbox {
            width: 20px;
            height: 20px;
        }

        h1 {
            padding: 3%;
            margin: 10px;
            text-align: left;
            font-family: Times, "Times New Roman", serif;
        }

        .questClass {
            padding-top: 4%;
            font-size: 20px;
        }

        .queryTD {
            padding-top: 20px;
        }

        .queryTr {
            padding-left: 6%;
            width: 15%;
        }

        .queryText {
            text-align: left;
            /*padding-left:3%;*/
            height: 40px;
            width: 80%;
            font-size: 18px;
            font-family: sans-serif;
            border-top: 0px;
            border-left: 0px;
            border-right: 0px;
            border-bottom: 2px solid black;
        }

            .queryText:focus {
                outline: none;
                /*border-color:green;*/
                box-shadow: 0 0 10px green;
            }
    </style>
</head>
<body>

    <div class="container">

        <div class="row">
            <div class="col-xs-12 text-center">
                <form method="post" action="@Url.Action("SendFeedback")">

                    <div class="row">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1">
                                <h1>  <b>Event Feedback</b></h1>
                                <p>
                                    Thank you for participating in our event. We hope you had as much fun attending as we did organizing it.
                                    We want to hear your feedback so we can keep improving our logistics and content.
                                    Please fill this quick survey <br /> and let us know your thoughts (your answers will be anonymous).
                                    <br /><font color="red" font size="3">*Required</font>
                                </p>
                            </div>
                        </div>


                    </div>
                    <br />
                    <div class="row Questionrow" id="Quest1">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1">

                                <p class="questClass"> 1. How satisfied were you with the event? *</p>
                                <br /><br />
                                <table style="width:80%;margin-left:3.5%;font-size:18px;" id="Questtable1" name="qn1">
                                    <tr style="padding-top:20px;">
                                        <th class="queryTr"></th>
                                        <th class="queryTr">1</th>
                                        <th class="queryTr">2</th>
                                        <th class="queryTr">3</th>
                                        <th class="queryTr">4</th>
                                        <th class="queryTr">5</th>
                                        <th class="queryTr"></th>
                                    </tr>
                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Not very</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group1" value="11" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group1" value="12" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group1" value="13" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group1" value="14" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group1" value="15" /></td>
                                        <td class="queryTD"> Very much</td>

                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="row Questionrow" id="Quest2">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1">

                                <p class="questClass"> 2. How relevant and helpful do you think it was for your job? *</p>
                                <br /><br />
                                <table style="width:80%;margin-left:3.5%;font-size:18px;" id="Questtable2" name="qn2">
                                    <tr style="padding-top:20px;">
                                        <th class="queryTr"></th>
                                        <th class="queryTr">1</th>
                                        <th class="queryTr">2</th>
                                        <th class="queryTr">3</th>
                                        <th class="queryTr">4</th>
                                        <th class="queryTr">5</th>
                                        <th class="queryTr"></th>
                                    </tr>
                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Not very</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group2" value="21" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group2" value="22" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group2" value="23" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group2" value="24" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group2" value="25" /></td>
                                        <td class="queryTD"> Very much</td>

                                    </tr>
                                </table>
                            </div>
                        </div>

                    </div>

                    <br />
                    <div class="row Questionrow" id="Quest3">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1">

                                <p class="questClass">3. What were your key take aways from this event?</p>
                                <br /><br />
                                <div style="text-align:left;padding-left:3%;">
                                    <input type="text" class="queryText" name="text1" style="text-align:left;" id="qn3" />
                                </div>

                            </div>
                        </div>

                    </div>

                    <br />
                    <div class="row Questionrow" id="Quest4">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1" style="height:650px;">

                                <p class="questClass">4. How satisfied were you with the logistics? *</p>
                                <p style="font-size:15px;">1 = Very dissatisfied      5 = Very satisfied</p>
                                <br /><br />
                                <table style="width:80%;margin-left:3.5%;font-size:18px;" id="Questtable4" name="qn4">
                                    <tr style="padding-top:20px;">
                                        <th class="queryTr" style="width:10%"></th>
                                        <th class="queryTr">1</th>
                                        <th class="queryTr">2</th>
                                        <th class="queryTr">3</th>
                                        <th class="queryTr">4</th>
                                        <th class="queryTr">5</th>
                                        <th class="queryTr">NA</th>
                                    </tr>
                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Accommodation</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group3" value="411" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group3" value="412" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group3" value="413" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group3" value="414" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group3" value="415" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group3" value="416" /></td>

                                    </tr>


                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Welcome kit</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group4" value="421" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group4" value="422" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group4" value="423" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group4" value="424" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group4" value="425" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group4" value="426" /></td>

                                    </tr>


                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Communication emails</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group5" value="431" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group5" value="432" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group5" value="433" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group5" value="434" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group5" value="435" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group5" value="436" /></td>

                                    </tr>


                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Transportation</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group6" value="441" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group6" value="442" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group6" value="443" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group6" value="444" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group6" value="445" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group6" value="446" /></td>

                                    </tr>

                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Welcome activity</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group7" value="451" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group7" value="452" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group7" value="453" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group7" value="454" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group7" value="455" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group7" value="456" /></td>

                                    </tr>

                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Venue</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group8" value="461" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group8" value="462" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group8" value="463" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group8" value="464" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group8" value="465" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group8" value="466" /></td>

                                    </tr>

                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Activities</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group9" value="471" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group9" value="472" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group9" value="473" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group9" value="474" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group9" value="475" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group9" value="476" /></td>

                                    </tr>
                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Closing ceremony</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group10" value="481" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group10" value="482" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group10" value="483" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group10" value="484" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group10" value="485" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group10" value="486" /></td>

                                    </tr>
                                </table>
                            </div>
                        </div>

                    </div>
                    <br />
                    <div class="row Questionrow" id="Quest5">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1">

                                <p class="questClass">5. Additional feedback on logistics *</p>
                                <br /><br />
                                <div style="text-align:left;padding-left:3%;">
                                    <input type="text" class="queryText" name="text2" style="text-align:left;" placeholder="Your answer..." id="qn5" />
                                </div>

                            </div>
                        </div>

                    </div>

                    <br />
                    <div class="row Questionrow" id="Quest6">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1" style="height:500px;">

                                <p class="questClass">6.  Which sessions did you find most relevant? *</p>
                                <br /><br />
                                <table style="width:80%;margin-left:3.5%;font-size:18px;" id="Questtable6">
                                    <tr style="padding-top:20px;">
                                        <th style="width:23%"></th>
                                        <th style="width:20%; padding-left:5%">Not relevant</th>
                                        <th style="width:20%; padding-left:5%">Relevant</th>
                                        <th style="width:20%;">Very relevant</th>
                                        <th style="width:25%;">Did not attend</th>
                                    </tr>
                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Welcome activity</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group11" value="611" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group11" value="612" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group11" value="613" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group11" value="614" /></td>
                                    </tr>


                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Speaker #1</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group12" value="621" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group12" value="622" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group12" value="623" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group12" value="624" /></td>
                                    </tr>


                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Activity #1</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group13" value="631" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group13" value="632" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group13" value="633" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group13" value="634" /></td>
                                    </tr>


                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Speaker #2</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group14" value="641" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group14" value="642" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group14" value="643" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group14" value="644" /></td>
                                    </tr>

                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Activity #2</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group15" value="651" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group15" value="652" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group15" value="653" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group15" value="654" /></td>
                                    </tr>

                                    <tr style="padding-top:20px;">
                                        <td class="queryTD">Closing activity</td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group16" value="661" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group16" value="662" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group16" value="663" /></td>
                                        <td class="queryTD"><input type="radio" class="largerCheckbox" name="group16" value="664" /></td>
                                    </tr>

                                </table>
                            </div>
                        </div>

                    </div>

                    <br />
                    <div class="row Questionrow" id="Quest7">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1">

                                <p class="questClass">7. How satisfied were you with the session content? *</p>
                                <p style="font-size:15px;">Both presented and pre-read material</p>
                                <br /><br />
                                <div style="text-align:left;padding-left:3%;">
                                    <table style="width:80%;margin-left:3.5%;font-size:18px;" id="Questtable7" name="qn7">
                                        <tr style="padding-top:20px;">
                                            <th class="queryTr"></th>
                                            <th class="queryTr">1</th>
                                            <th class="queryTr">2</th>
                                            <th class="queryTr">3</th>
                                            <th class="queryTr">4</th>
                                            <th class="queryTr">5</th>
                                            <th class="queryTr"></th>
                                        </tr>
                                        <tr style="padding-top:20px;">
                                            <td class="queryTD">Poor</td>
                                            <td style="padding-left:5%" class="queryTD"><input type="radio" class="largerCheckbox" name="group17" value="711" /></td>
                                            <td style="padding-left:5%" class="queryTD"><input type="radio" class="largerCheckbox" name="group17" value="712" /></td>
                                            <td style="padding-left:5%" class="queryTD"><input type="radio" class="largerCheckbox" name="group17" value="713" /></td>
                                            <td style="padding-left:5%" class="queryTD"><input type="radio" class="largerCheckbox" name="group17" value="714" /></td>
                                            <td style="padding-left:5%" class="queryTD"><input type="radio" class="largerCheckbox" name="group17" value="715" /></td>
                                            <td class="queryTD">Excellent</td>

                                        </tr>
                                    </table>
                                </div>

                            </div>
                        </div>

                    </div>

                    <br />
                    <div class="row Questionrow" id="Quest8">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1">

                                <p class="questClass">8. Any additional comments regarding the sessions or overall agenda?</p>
                                <br /><br />
                                <div style="text-align:left;padding-left:3%;">
                                    <input type="text" class="queryText" name="test3" style="text-align:left;" placeholder="Your answer..." id="qn8" />
                                </div>

                            </div>
                        </div>

                    </div>

                    <br />
                    <div class="row Questionrow" id="Quest9">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1">

                                <p class="questClass">9. Any overall feedback for the event?</p>
                                <br /><br />
                                <div style="text-align:left;padding-left:3%;">
                                    <input type="text" class="queryText" name="text4" style="text-align:left;" placeholder="Your answer..." id="qn9" />
                                </div>

                            </div>
                        </div>

                    </div>

                    <br />
                    <div class="row Questionrow" id="Quest10">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10">
                            <div class="box1">

                                <p class="questClass">10. Name (optional)</p>
                                <br /><br />
                                <div style="text-align:left;padding-left:3%;">
                                    <input type="text" class="queryText" name="text5" style="text-align:left;" placeholder="Your answer..." id="qn10" />
                                </div>

                            </div>
                        </div>

                    </div>
                    <br />

                    <div class="row">
                        <div class="col-xs-1"></div>
                        <div class="col-xs-10" style="text-align:left;padding-left:3%;">
                            <input type="button" class="btn btn-primary" value="Submit" style="height: 40px; width: 100px;" />
                        </div>
                    </div>


                </form>

            </div>

        </div>
    </div>
    <script>

        var UserID = 0;
        $(document).ready(function () {
            const urlParams = new URLSearchParams(window.location.search);
            UserID = urlParams.get('Id');
            //  alert(UserID);
        });



        $('input[type="radio"]').on('change', function () {
            $('input[name="' + this.name + '"]').not(this).prop('checked', false);
            //  console.log(this);
        });

        function getAnswer() {
            var itemsArray = [];
            var itemsAswer = [];

            $('input:radio.largerCheckbox').each(function () {
                var sThisVal = (this.checked ? $(this).val() : "");

                console.log(sThisVal);
                var res = sThisVal.split("_");
                if (sThisVal != "") {
                    console.log(res);
                    itemsArray.push(res);

                }

            });

            for (var i = 0; i < 5; i++) {
                itemsAswer[i] = new Array(2);


                $("#answer" + (i + 1)).parents(".Questionrow").each(function () {
                    console.log($(this).attr("id"));
                    itemsAswer[i][0] = $(this).attr("id");
                    itemsAswer[i][1] = $("#answer" + (i + 1)).val();
                });



            }

            console.log(itemsAswer);
            console.log(itemsArray);
            var validdata = Validation();
            //  var datavalid=Validation();
            // alert(datavalid);
            if (validdata) {
                var pass = {
                    values: itemsArray,
                    Answer: itemsAswer,
                    UserId: UserID,
                }

                $.ajax({
                    url: '/My/SaveFeedback',
                    type: 'post',
                    dataType: 'json',
                    contentType: 'application/json',
                    success: function (data) {
                        if (data != "") {
                            alert(data.msg);
                        }
                    },
                    data: JSON.stringify(pass)
                });
            }


        }

        function Validation() {
            var groupname = 1;
            var data = false;
            var atLeastOneIsChecked = true;
            for (var i = 1; i <= 17; i++) {

                if ($("input[name='group" + i).is(':checked') == false) {
                    atLeastOneIsChecked = false;
                    if (i == 1) {
                        alert("Please select atleast one option of Question1");
                        return false;
                    }
                    else if (i == 2) {
                        alert("Please select atleast one option of Question2");
                        return false;
                    }
                    else if (i >= 3 && i <= 10) {
                        alert("Please select atleast one option of each Question4");
                        return false;
                    }

                    else if (i >= 11 && i <= 16) {
                        alert("Please select atleast one option of each Question 6");
                        return false;
                    }
                    else if (i == 17) {
                        alert("Please select atleast one option of Question 7");
                        return false;
                    }

                    // Stop .each from processing any more items
                }


            }

            return atLeastOneIsChecked;
        }

    </script>

    </body>
</html>
